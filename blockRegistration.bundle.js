!function(){const e=["background","background-attachment","background-color","background-image","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-color","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-shadow","clear","color","cursor","display","float","font","font-family","font-size","font-style","font-variant","font-weight","height","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","opacity","outline","outline-color","outline-style","outline-width","overflow","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","position","right","text-align","text-decoration","text-indent","text-transform","top","transform","vertical-align","visibility","white-space","width","word-spacing","z-index"],t=t=>{const o={};for(const n in t)e.includes(n)&&(o[n]=t[n]);return o};!async function o(){window.wp&&wp.domReady?window.addEventListener("message",(o=>{if(o.source===window&&o.data&&"DIVMAGIC_WORDPRESS_SCRIPT"===o.data.source&&"WP_COMPONENTS_READY"===o.data.type){const{components:n}=o.data;wp.domReady((()=>{n&&0!==n.length&&n.forEach((o=>{const n=(new DOMParser).parseFromString(o.html,"text/html"),r=n.querySelector("style"),l=r?r.innerText:"",i={},a=/@media[^{]+\{([\s\S]+?\})\s*\}/g,c=/([^{]+)\{([^}]+)\}/g;function d(t,o,n=null){let r;for(;null!==(r=c.exec(t));){const t=r[1].trim(),l=r[2].trim();if(!t)continue;if(!t.startsWith("#"))continue;const i=t.slice(1);o[i]||(o[i]={base:{},media:{}});const a=n?o[i].media[n]=o[i].media[n]||{}:o[i].base;l.split(";").forEach((t=>{const[o,n]=t.split(":");if(void 0!==n){const t=o.trim(),r=n.trim();e.includes(t)&&(a[t]=r)}}))}}let s;for(d(l.replace(a,"").trim(),i);null!==(s=a.exec(l));){const e=s[0].match(/@media[^{]+\{/)[0].trim().replace("{","").trim();d(s[1],i,e)}const m={};n.querySelectorAll("[id]").forEach((e=>{const{id:t}=e,o=Array.from(e.childNodes).filter((e=>e.nodeType===Node.TEXT_NODE)).map((e=>e.nodeValue.trim())).join("");m[t]=o.length>0?o:""})),wp.blocks.registerBlockType(`divmagic/custom-html-${o.id.toLowerCase()}`,{title:`DivMagic Imported Block - ${o.id}`,icon:"admin-customizer",category:"embed",keywords:["div","magic","divmagic"],attributes:{styleDict:{type:"object",default:i},contentDict:{type:"object",default:m}},edit(e){const{InnerBlocks:t,useBlockProps:o}=wp.blockEditor,r=o(),l=function t(o){const{id:n}=o,r=e.attributes.styleDict[n]||{base:{},media:{}},l=e.attributes.contentDict[n]||"";let i={...r.base};for(const e in r.media)window.matchMedia(e).matches&&(i={...i,...r.media[e]});const a=Array.from(o.children).map((e=>t(e)));return 0===a.length?["divmagic/child-block",{id:n,style:i,content:l||""}]:["divmagic/parent-block",{id:n,style:i,content:l||""},a]}(n.body.children[0]);return wp.element.createElement("div",r,wp.element.createElement(t,{template:[l],templateLock:!1}))},save:()=>wp.element.createElement(wp.blockEditor.InnerBlocks.Content)}),wp.blocks.registerBlockType("divmagic/child-block",{title:"DivMagic Child Block",category:"embed",supports:{inserter:!1},attributes:{id:{type:"string"},style:{type:"object",default:{}},content:{type:"string",default:""},backgroundColor:{type:"string",default:null},fontColor:{type:"string",default:null},fontSize:{type:"number",default:null}},edit(e){const{attributes:t,setAttributes:o,isSelected:n}=e,{id:r,style:l,content:i,backgroundColor:a,fontColor:c,fontSize:d}=t,{useBlockProps:s,InspectorControls:m,RichText:p}=wp.blockEditor,{PanelBody:u,ColorPalette:b,FontSizePicker:g}=wp.components,f=s({style:{...l,...a?{backgroundColor:a}:{},...c?{color:c}:{},...d?{fontSize:`${d}px`}:{}}});return wp.element.createElement(wp.element.Fragment,null,n&&wp.element.createElement(m,null,wp.element.createElement(u,{title:"Background Color",initialOpen:!0},wp.element.createElement(b,{value:a,onChange:e=>o({backgroundColor:e})})),wp.element.createElement(u,{title:"Font Color",initialOpen:!1},wp.element.createElement(b,{value:c,onChange:e=>o({fontColor:e})})),wp.element.createElement(u,{title:"Font Size",initialOpen:!1},wp.element.createElement(g,{value:d,onChange:e=>o({fontSize:e})}))),wp.element.createElement("div",f,wp.element.createElement(p,{tagName:"div",value:i,onChange:e=>o({content:e}),readOnly:!n})))},save({attributes:e}){const{id:o,style:n,content:r,backgroundColor:l,fontColor:i,fontSize:a}=e,c=t(n);return wp.element.createElement("div",{style:{...c,...l?{backgroundColor:l}:{},...i?{color:i}:{},...a?{fontSize:`${a}px`}:{}}},wp.element.createElement(wp.blockEditor.RichText.Content,{tagName:"div",value:r}))}}),wp.blocks.registerBlockType("divmagic/parent-block",{title:"DivMagic Parent Block",category:"embed",supports:{inserter:!1},attributes:{id:{type:"string"},style:{type:"object",default:{}},backgroundColor:{type:"string",default:null},fontColor:{type:"string",default:null},fontSize:{type:"number",default:null}},edit(e){const{attributes:t,setAttributes:o,isSelected:n}=e,{id:r,style:l,backgroundColor:i,fontColor:a,fontSize:c}=t,{useBlockProps:d,InspectorControls:s,InnerBlocks:m}=wp.blockEditor,{PanelBody:p,ColorPalette:u,FontSizePicker:b}=wp.components,g=d({style:{...l,...i?{backgroundColor:i}:{},...a?{color:a}:{},...c?{fontSize:`${c}px`}:{}}});return wp.element.createElement(wp.element.Fragment,null,n&&wp.element.createElement(s,null,wp.element.createElement(p,{title:"Background Color",initialOpen:!0},wp.element.createElement(u,{value:i,onChange:e=>o({backgroundColor:e})})),wp.element.createElement(p,{title:"Font Color",initialOpen:!1},wp.element.createElement(u,{value:a,onChange:e=>o({fontColor:e})})),wp.element.createElement(p,{title:"Font Size",initialOpen:!1},wp.element.createElement(b,{value:c,onChange:e=>o({fontSize:e})}))),wp.element.createElement("div",g,wp.element.createElement(m,{templateLock:!1})))},save({attributes:e}){const{id:o,style:n,backgroundColor:r,fontColor:l,fontSize:i}=e,a=t(n);return wp.element.createElement("div",{style:{...a,...r?{backgroundColor:r}:{},...l?{color:l}:{},...i?{fontSize:`${i}px`}:{}}},wp.element.createElement(wp.blockEditor.InnerBlocks.Content))}})}))}))}})):setTimeout(o,50)}()}();